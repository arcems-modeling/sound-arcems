<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sound Wave</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 0;
            text-align: center;
        }

        header {
            background: linear-gradient(to right, #0a4b57, #0e7b7f);
            color: white;
            padding: 20px 0;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        header h1 {
            margin: 0;
            font-size: 2.5rem;
        }

        p {
            font-size: 1.2rem;
            color: #555;
        }

        .slider-container {
            display: flex;
            overflow-x: auto;
            scroll-behavior: smooth;
            gap: 30px;
            padding: 15px;
            background-color: white;
            border-bottom: 2px solid #ddd;
        }

        .slider-container::-webkit-scrollbar {
            height: 8px;
        }

        .slider-container::-webkit-scrollbar-thumb {
            background-color: #ccc;
            border-radius: 10px;
        }

        .animal {
            flex: 0 0 auto;
            display: inline-block;
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 30px;
            background-color: white;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
            width: 220px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .animal:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
        }

        img {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            margin-bottom: 15px;
        }

        canvas {
            margin-top: 20px;
            border: 2px solid #6c63ff;
            border-radius: 10px;
            background-color: #fff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        footer {
            margin-top: 20px;
            padding: 10px 0;
            background: linear-gradient(to right, #0a4b57, #0e7b7f);
            color: white;
            font-size: 0.9rem;
            box-shadow: 0 -2px 6px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <header>
    <div style="display: flex; justify-content: space-between; align-items: center; padding: 0 20px;">
        <img src="logo_kfupm.png" alt="Left Logo" style="height: 120px; width: auto;">
        <h1>Animal Sounds</h1>
        <img src="logo-right.png" alt="Right Logo" style="height: 120px; width: auto;">
    </div>
</header>
    <p>Click on an animal to hear its sound and see the waveform.</p>

    <div class="slider-container">
        <div class="animal" onclick="playSound('dog')">
            <img src="dog.png" alt="Dog">
            <p>Dog</p>
        </div>
        <div class="animal" onclick="playSound('cat')">
            <img src="cat.png" alt="Cat">
            <p>Cat</p>
        </div>
        <div class="animal" onclick="playSound('cow')">
            <img src="cow.png" alt="Cow">
            <p>Cow</p>
        </div>
        <div class="animal" onclick="playSound('lion')">
            <img src="lion.png" alt="Lion">
            <p>Lion</p>
        </div>
        <div class="animal" onclick="playSound('elephant')">
            <img src="elephant.png" alt="Elephant">
            <p>Elephant</p>
        </div>
        <div class="animal" onclick="playSound('frog')">
            <img src="frog.png" alt="Frog">
            <p>Frog</p>
        </div>
        <div class="animal" onclick="playSound('bird')">
            <img src="bird.png" alt="Bird">
            <p>Bird</p>
        </div>
        <div class="animal" onclick="playSound('snake')">
            <img src="snake.png" alt="Snake">
            <p>Snake</p>
        </div>
        <div class="animal" onclick="playSound('horse')">
            <img src="horse.png" alt="Horse">
            <p>Horse</p>
        </div>
        <div class="animal" onclick="playSound('sheep')">
            <img src="sheep.png" alt="Sheep">
            <p>Sheep</p>
        </div>
    </div>

    <audio id="audio" controls style="display:none;"></audio>
    <canvas id="waveformCanvas" width="800" height="200"></canvas>

    <footer>
        <p style="color: white !important;">Â© 2025 Animal Sound Webpage. All Rights Reserved.</p>
    </footer>

    <script>
        const sounds = {
            dog: 'dog_bark.mp3',
            cat: 'cat_meow.mp3',
            cow: 'cow_moo.mp3',
            lion: 'lion_roar.mp3',
            elephant: 'elephant_trumpet.mp3',
            frog: 'frog_croak.mp3',
            bird: 'bird_chirp.mp3',
            snake: 'snake_hiss.mp3',
            horse: 'horse_neigh.mp3',
            sheep: 'sheep_baa.mp3'
        };

        const audioElement = document.getElementById('audio');
        const waveformCanvas = document.getElementById('waveformCanvas');
        const ctx = waveformCanvas.getContext('2d');
        let audioBuffer = null;

        async function fetchAndDecodeAudio(url) {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const response = await fetch(url);
            const arrayBuffer = await response.arrayBuffer();
            return await audioContext.decodeAudioData(arrayBuffer);
        }

        async function drawWaveform(audioUrl) {
            audioBuffer = await fetchAndDecodeAudio(audioUrl);
            const bufferData = audioBuffer.getChannelData(0); // Use the first channel
            const step = Math.ceil(bufferData.length / waveformCanvas.width);
            const amp = waveformCanvas.height / 2;

            ctx.fillStyle = 'rgba(255, 255, 255, 1)';
            ctx.fillRect(0, 0, waveformCanvas.width, waveformCanvas.height);

            ctx.lineWidth = 2;
            ctx.strokeStyle = 'rgb(0, 0, 255)';
            ctx.beginPath();

            for (let i = 0; i < waveformCanvas.width; i++) {
                const min = Math.min(...bufferData.slice(i * step, (i + 1) * step));
                const max = Math.max(...bufferData.slice(i * step, (i + 1) * step));
                ctx.moveTo(i, amp + min * amp);
                ctx.lineTo(i, amp + max * amp);
            }

            ctx.stroke();
        }

        function playSound(animal) {
            const audioUrl = sounds[animal];
            audioElement.src = audioUrl;
            drawWaveform(audioUrl);
            audioElement.play();
        }
    </script>
</body>
</html>
